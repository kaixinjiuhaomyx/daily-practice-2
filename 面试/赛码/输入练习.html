<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        class Graph {
            constructor() {
                this.edge = {};
            }
            addEdge(a, b, v) {
                if (this.edge[a] == null)
                this.edge[a] = {};
                this.edge[a][b] = v;
            }
            dfs(node, visited, ret) {
                if (!visited) visited={};
                if (!ret) ret = [];
                ret.push(node);
                visited[node] = 1;
                for (let n in this.edge[node]) {
                if (!visited[n])
                    this.dfs(n, visited, ret);
                }
                return ret;
            }
        }

        var N, M;
        // 每组第一行是2个整数，N和M，至于为啥用while，因为是多组。
        while ((N=readInt()) != null && (M=readInt()) != null) {
        let graph = new Graph();
        //print (N + ' ' + M);
        // 循环读取“接下来的M行”
        for (let i=0; i<M; i++) {
            let a = readInt();
            let b = readInt();
            let c = readInt();
            // 每行是3个整数，a，b，c。
            //print(a + ' ' + b + ' ' + c);
            if (c == 1) {
            graph.addEdge(a, b, 1);
            graph.addEdge(b, a, 1);
            }
        }
        let ret = graph.dfs(1);
        print(ret.length-1);
        // M行读取完了，就又要开始下一组了，去while那里。
        }
    
    
    </script>
</body>
</html>